function fauxTerm(a){function b(){return r+"$ "}function c(){var a=p+b()+q;o.innerHTML=a,o.innerHTML+='<span class="fauxterm-bell"></span>',o.scrollTop=o.scrollHeight}function d(a){if(p+=a,p.length>u){var b=p.length-u;p=p.substr(b)}}function e(a){var b=0,c=s.length;for(b;b<c;b++){var d=new RegExp("{"+s[b]+"}","g"),e=new RegExp("{/"+s[b]+"}","g");a=a.replace(d,'<span class="'+s[b]+'">'),a=a.replace(e,"</span>")}return a}function f(a,b){return p="",""}function g(a){return!!z.hasOwnProperty(a)}function h(a,b){var c=a[0];return z[c](a,b)}function i(){var a,f=q,i=f.split(" "),k=i.length,l=i[0];q+="\n",d(b()+q),q="",""!==l&&(a=g(l)?h(i,k):t?t(i,k):"{white}{bold}"+l+"{/bold}{/white}: command not found\n",!1===a&&(a="{white}{bold}"+l+"{/bold}{/white}: command not found\n"),a=e(a),d(a),j(f)),c()}function j(a){if(v.unshift(a),w=-1,v.length>x){console.log("reducing command history size"),console.log(v.length);var b=v.length-x;v.splice(v.length-1,b),console.log(v.length)}}function k(a){return[32,190,192,189,187,220,221,219,222,186,188,191].indexOf(a)>-1}function l(a){var b=(v.length,w+a);b<-1&&(b=-1),b>=v.length&&(b=v.length-1),b!==w&&(w=b),q=b>-1?v[b]:""}function m(a){a.preventDefault(),n.value="",a.keyCode>=48&&a.keyCode<=90||k(a.keyCode)?a.ctrlKey||(q+=a.key):13===a.keyCode?i():9===a.keyCode?q+="\t":38===a.keyCode?l(1):40===a.keyCode?l(-1):"Backspace"===a.key&&(q=q.substr(0,q.length-1)),c()}var n,o=a.el||document.getElementById("term"),p=a.initialMessage||"",q=a.initialLine||"",r=a.cwd||"~/",s=a.tags||["red","blue","white","bold"],t=a.cmd||!1,u=a.maxBufferLength||8192,v=[],w=-1,x=a.maxCommandHistory||100,y=a.autoFocus||!1,z={clear:f};!function(){o.classList.add("fauxterm"),n=document.createElement("textarea"),n.className="fauxterm-input",document.body.appendChild(n),o.addEventListener("click",function(a){n.focus(),o.classList.add("fauxterm-focus")}),n.addEventListener("keydown",m),n.addEventListener("blur",function(a){o.classList.remove("fauxterm-focus")}),y&&(n.focus(),o.classList.add("fauxterm-focus")),c()}()}!function(a){var b=a.fauxTerm,c=document.getElementById("content").innerText,d="rdoug@deakin.edu.au";c=c+'<a href="mailto:'+d+'">'+d+"</a>\n\n";new b({el:document.getElementById("fauxterm"),autoFocus:!0,initialMessage:"~/rdoug$ cat\n"+c,cwd:"~/rdoug",tags:["bold"],maxBufferLength:8192,maxCommandHistory:50,cmd:function(b,e){var f;switch(b[0]){case"cat":return f=c;case"mail":return a.location.href="mailto:"+d,"";case"software":return'<a target="_blank" href="https://github.com/isdampe/fauxTerm">fauxTerm.js - Fake web terminal emulator, used on this website.</a>\n'}return f="{bold}"+b[0]+"{/bold}: command not found\n\n",f+="{bold}List of known commands{/bold}:\ncat: print home page content to terminal\nclear: clear the terminal screen\nmail: send an email to site owner\nsoftware: print list of software links to terminal\n\n"}})}(window);
//# sourceMappingURL=app.min.js.map